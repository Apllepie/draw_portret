# Распознавание жестов руки

Этот проект использует MediaPipe для распознавания жестов руки в реальном времени.

## Файлы проекта

### 1. `main.py` - Базовое распознавание жестов
Простая программа, которая распознает основные жесты:
- **Thumbs Up** - большой палец вверх
- **Pointing** - указательный палец
- **Open Hand** - открытая ладонь  
- **Peace** - знак мира (два пальца)
- **Fist** - кулак
- **Gun** - пистолет (большой + указательный)

### 2. `advanced_gestures.py` - Расширенное распознавание
Более сложные жесты с анализом углов и расстояний:
- **OK** - соединение большого и указательного пальца
- **Rock** - рок жест (указательный + мизинец)
- **Spock** - жест Спока (V между средним и безымянным)
- Все базовые жесты из main.py

### 3. `custom_gestures.py` - Создание пользовательских жестов
Позволяет записывать и распознавать собственные жесты:
- Запись жестов нажатием клавиш 1-9
- Сохранение жестов в JSON файл
- Автоматическое распознавание записанных жестов

## Установка и запуск

### Установка зависимостей:
```bash
pip install opencv-python mediapipe numpy
```

### Запуск программ:

#### Базовое распознавание:
```bash
python main.py
```

#### Расширенное распознавание:
```bash
python advanced_gestures.py
```

#### Создание пользовательских жестов:
```bash
python custom_gestures.py
```

## Управление

### Базовые программы (main.py, advanced_gestures.py):
- **ESC** - выход из программы

### Создание пользовательских жестов (custom_gestures.py):
- **1-9** - начать запись жеста с именем gesture_1, gesture_2, etc.
- **R** - запись жеста с пользовательским именем
- **S** - сохранить записанные жесты в файл
- **ESC** - выход

## Как создать свой жест

1. Запустите `custom_gestures.py`
2. Покажите жест перед камерой
3. Нажмите клавишу 1-9 для быстрой записи или R для пользовательского имени
4. Подождите обратный отсчет
5. Жест будет записан
6. Нажмите S для сохранения жестов в файл
7. При следующем запуске жесты будут автоматически загружены

## Принцип работы

### Базовое распознавание:
- Анализирует положение кончиков пальцев относительно их оснований
- Определяет какие пальцы подняты/опущены
- Сопоставляет с шаблонами жестов

### Расширенное распознавание:
- Дополнительно анализирует расстояния между точками
- Вычисляет углы между пальцами
- Более точное определение сложных жестов

### Пользовательские жесты:
- Записывает координаты всех 21 ключевой точки руки
- Нормализует относительно запястья
- Сравнивает новые жесты с записанными по евклидову расстоянию

## Настройка точности

В коде можно изменить параметры:
- `min_detection_confidence` - минимальная уверенность для детекции
- `min_tracking_confidence` - минимальная уверенность для отслеживания
- `threshold` - порог для распознавания пользовательских жестов

## Возможные расширения

1. **Добавление новых жестов** - модифицируйте функции распознавания
2. **Обучение на данных** - используйте машинное обучение для лучшей точности
3. **Контроль приложений** - добавьте управление другими программами
4. **Двуручные жесты** - измените `max_num_hands` на 2
5. **3D анализ** - используйте z-координаты для более точного распознавания

## Устранение неисправностей

### Не работает камера:
- Проверьте что камера не используется другим приложением
- Измените индекс камеры в `cv2.VideoCapture(0)` на 1, 2, etc.

### Плохое распознавание:
- Обеспечьте хорошее освещение
- Держите руку на расстоянии 30-50 см от камеры
- Избегайте сложного фона
- Настройте параметры уверенности

### Ошибки импорта:
- Убедитесь что все пакеты установлены
- Используйте виртуальное окружение
- Проверьте версии Python и пакетов
